{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../PolicyEvent.svelte",
    "../../Scrubber.svelte"
  ],
  "sourcesContent": [
    "<script>\n\n    import { styler, value, pointer, listen, transform, easing, keyframes } from 'popmotion';\n    import { onMount } from 'svelte';\n\n    export let currentFrame;\n    export let position;\n\n    const BUFFER = 10;\n\n    let eventStyler;\n    let eventInfoStyler;\n\n    $: {\n        if (currentFrame == position-BUFFER) {\n           highlightEvent();\n       }\n\n       if (currentFrame == position + BUFFER*4) {\n           reduceEvent();\n       }\n    }\n\n\n    let eventKeyFramesExpand =  keyframes({\n        values: [ \n            { scale: 1 },\n            { scale: 2 }\n        ],\n        times: [0, 1],\n        duration: 300,\n        easings: [easing.bounceOut]\n    });\n\n    let eventInfoKeyFramesExpand =  keyframes({\n        values: [ \n            { scale: 0 , translateX: 0, translateY: 0},\n            { scale: 1 , translateX: 0, translateY: 60}\n        ],\n        times: [0, 1],\n        duration: 800,\n        easings: [easing.bounceOut]\n    });\n\n    let eventKeyFramesContract =  keyframes({\n        values: [ \n            { scale: 2 },\n            { scale: 1 }\n        ],\n        times: [0, 1],\n        duration: 600,\n        easings: [easing.bounceIn]\n    });\n\n    let eventInfoKeyFramesContract =  keyframes({\n        values: [ \n            { scale: 1 , translateX: 0, translateY: 60},\n            { scale: 0 , translateX: 0, translateY: 0}\n        ],\n        times: [0, 1],\n        duration: 400,\n        easings: [easing.linear]\n    });\n\n    const highlightEvent = () => {\n        eventKeyFramesExpand.start(style => {\n            eventStyler.set(style);\n        });\n        eventInfoKeyFramesExpand.start(style => {\n            eventInfoStyler.set(style);\n        });   \n    }\n\n    const reduceEvent = () => {\n        eventKeyFramesContract.start(style => {\n            eventStyler.set(style);\n        });\n        eventInfoKeyFramesContract.start(style => {\n            eventInfoStyler.set(style);\n        });\n    }\n\n    onMount(async () => {\n        const event = document.querySelector(\".event\"+position);\n        eventStyler = styler(event);\n        const eventInfo = document.querySelector(\".event-info-box\"+position);\n        eventInfoStyler = styler(eventInfo);\n        eventInfoStyler.set('left', position);\n\n        const eventContainer = document.querySelector(\".event-container\"+position);\n        let eventContainerStyler = styler(eventContainer);\n        eventContainerStyler.set('left', position);\n    });\n\n\n\n</script>\n\n<div class='policy-event'>\n    <div class={\"event-container event-container\"+position}>\n        <div class={\"event-hit-area event-hit-area\"+position}>\n            <div class={\"event event\"+position}></div>\n        </div>\n    </div>\n    <div class={\"event-info-box event-info-box\"+position}>\n        <span>EVENT INFO</span>\n    </div>\n</div>\n\n<style>\n\n    .event-container {\n        position: absolute;\n        top: 50%;\n        left: 50px; \n        transform: translateY(-50%) translateX(-50%);\n    }\n\n    .event-hit-area {\n        padding: 30px;\n        width: 10px;\n        height: 10px;\n    }\n\n    .event {\n        background: darkslategrey;\n        width: 10px;\n        height: 10px;\n        border-radius: 5px;\n        cursor: pointer;\n        transition: all .2s ease-in-out; \n    }\n\n    .policy-event {\n        width: 300px;\n    }\n\n    .event-info-box {\n        border: 1px solid sandybrown;\n        height: 200px;\n        width: 300px;\n        transform: translate(0px, 0px) scale(0);\n        background: white;\n        border-radius: 4px;\n        position: absolute;\n    }\n\n\n</style>",
    "<script>\n    import { onMount } from 'svelte';\n    import { styler, value, pointer, listen, transform, easing, keyframes } from 'popmotion';\n    import PolicyEvent from './PolicyEvent.svelte';\n\n    export let currentFrame;\n    export let pauseAnimation;\n    export let startAnimation;\n    export let updateCurrentFrame;\n\n    var isUserRunning = false; // Whether or not the USER has paused the animation\n\n    const maxScrubberWidth = 1000;// width of scrubber in px\n    let handleStyler;\n\n    $: {\n       handleStyler && handleStyler.set('x', currentFrame);\n    }\n\n\n\n    onMount(async () => {\n        const handle = document.querySelector('.handle-hit-area');\n        handleStyler = styler(handle);\n        const handleX = value(0, (newX) => {\n            updateCurrentFrame(newX);\n        });\n    \n        // const range = document.querySelector('.range');\n\n        const pointerX = (x) => pointer({ x }).pipe(xy => xy.x, transform.clamp(0, maxScrubberWidth));\n\n        const startDrag = () => {\n            pauseAnimation();\n            pointerX(currentFrame).start(handleX);\n        };\n    \n        const stopDrag = () => {\n            handleX.stop();\n            updateCurrentFrame(handleStyler.get('x'));\n            isUserRunning && startAnimation();\n        };\n\n        listen(handle, 'mousedown touchstart').start(startDrag);\n        listen(document, 'mouseup touchend').start(stopDrag);\n    });\n\n    const handlePauseAnimation = () => {\n        isUserRunning = false;\n        pauseAnimation();\n    }\n\n    const handleStartAnimation = () => {\n        isUserRunning = true;\n        startAnimation();\n    }\n\n</script> \n\n\n<div class=\"scrubber\">\n\n    <div class='scrubber-controls'>\n        <button on:click={handleStartAnimation}>Start</button>\n        <button on:click={handlePauseAnimation}>Pause</button>\n    </div>\n\n    <div class=\"slider\">\n        <div class=\"range\"></div>\n\n        <div class=\"handle-container\">\n            <div class=\"handle-hit-area\">\n                <div class=\"handle\"></div>\n            </div>\n        </div>\n\n        <PolicyEvent currentFrame={currentFrame} position={30}/>\n        <PolicyEvent currentFrame={currentFrame} position={130}/>\n        <PolicyEvent currentFrame={currentFrame} position={310}/>\n        \n    </div>\n</div>\n\n<style>\n    .scrubber {\n        border: 5px solid blue;\n        display: flex;\n        flex-direction: row;\n    }\n\n    .scrubber-controls {\n        width: 10%;\n    }\n    \n    \n    .slider {\n        width: 85%;\n        height: 100px;\n        position: relative;\n    }\n\n    .range {\n        border-radius: 3px;\n        height: 6px;\n        background: lightgray;\n        position: absolute;\n        top: 50%;\n        left: 0;\n        right: 0;\n        transform: translateY(-50%);\n    }\n\n    .handle-container {\n        position: absolute;\n        top: 50%;\n        left: 0%;\n        transform: translateY(-50%) translateX(-50%);\n    }\n\n    .handle-hit-area {\n        padding: 30px;\n        width: 5px;\n        height: 40px;\n    }\n\n    .handle {\n        background: red;\n        width: 5px; \n        height: 40px;\n        cursor: pointer;\n    }\n\n</style>\n\n"
  ],
  "names": [],
  "mappings": "AA+GI,gBAAgB,eAAC,CAAC,AACd,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,GAAG,CACR,IAAI,CAAE,IAAI,CACV,SAAS,CAAE,WAAW,IAAI,CAAC,CAAC,WAAW,IAAI,CAAC,AAChD,CAAC,AAED,eAAe,eAAC,CAAC,AACb,OAAO,CAAE,IAAI,CACb,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,AAChB,CAAC,AAED,MAAM,eAAC,CAAC,AACJ,UAAU,CAAE,aAAa,CACzB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAClB,MAAM,CAAE,OAAO,CACf,UAAU,CAAE,GAAG,CAAC,GAAG,CAAC,WAAW,AACnC,CAAC,AAED,aAAa,eAAC,CAAC,AACX,KAAK,CAAE,KAAK,AAChB,CAAC,AAED,eAAe,eAAC,CAAC,AACb,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,UAAU,CAC5B,MAAM,CAAE,KAAK,CACb,KAAK,CAAE,KAAK,CACZ,SAAS,CAAE,UAAU,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CACvC,UAAU,CAAE,KAAK,CACjB,aAAa,CAAE,GAAG,CAClB,QAAQ,CAAE,QAAQ,AACtB,CAAC;AC7DD,SAAS,cAAC,CAAC,AACP,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,CACtB,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,AACvB,CAAC,AAED,kBAAkB,cAAC,CAAC,AAChB,KAAK,CAAE,GAAG,AACd,CAAC,AAGD,OAAO,cAAC,CAAC,AACL,KAAK,CAAE,GAAG,CACV,MAAM,CAAE,KAAK,CACb,QAAQ,CAAE,QAAQ,AACtB,CAAC,AAED,MAAM,cAAC,CAAC,AACJ,aAAa,CAAE,GAAG,CAClB,MAAM,CAAE,GAAG,CACX,UAAU,CAAE,SAAS,CACrB,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,GAAG,CACR,IAAI,CAAE,CAAC,CACP,KAAK,CAAE,CAAC,CACR,SAAS,CAAE,WAAW,IAAI,CAAC,AAC/B,CAAC,AAED,iBAAiB,cAAC,CAAC,AACf,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,GAAG,CACR,IAAI,CAAE,EAAE,CACR,SAAS,CAAE,WAAW,IAAI,CAAC,CAAC,WAAW,IAAI,CAAC,AAChD,CAAC,AAED,gBAAgB,cAAC,CAAC,AACd,OAAO,CAAE,IAAI,CACb,KAAK,CAAE,GAAG,CACV,MAAM,CAAE,IAAI,AAChB,CAAC,AAED,OAAO,cAAC,CAAC,AACL,UAAU,CAAE,GAAG,CACf,KAAK,CAAE,GAAG,CACV,MAAM,CAAE,IAAI,CACZ,MAAM,CAAE,OAAO,AACnB,CAAC"
}